目录
- [AXI总线学习总结](#axi总线学习总结)
- [基本概念](#基本概念)
  - [Transaction](#transaction)
- [传输过程](#传输过程)
  - [读取传输](#读取传输)
  - [写入事务](#写入事务)

# AXI总线学习总结
本文主要对AXI总线进行一定的总结。AXI总线分为**AXI FULL**、**AXI Lite**以及**AXI Stream**三大类，其中FULL是完整的AXI总线协议，包含了各种channel与接口管理及响应的实现。Lite主要是对Low Power或者没有那么高传输要求的场景下使用的，Stream是用来传输大量数据的协议，应用场景包括显示器数据传输等。

本文主要讲述AXI FULL的一些总结。
# 基本概念
**Communication**，是传递信息的过程，**AXI Communication**面临的主要场景是一个区域与另一个区域之间传递信息，是**一对一**的关系，每个区域传递信息的地方叫做**接口(port)**。

信息传递，总有先发起请求的区域，该区域的接口叫做**Master**，被动接收信息并作出响应的另一区域叫做**Slave**。

在进行信息传递时，AXI总线分为好几个通道，用来并行传递不同的信息，每个通道可以使用不同的时钟单独控制。在计算机系统中，不论数据被用来计算或是存储，数据传递只有两个目的：**读取数据**、**写入数据**。因此，AXI总线的通道可以被分为**读通道**和**写通道**。

## Transaction
**Transaction**，是信息传递的载体，它指明哪些信息是有效的(**Valid**、**Last**)，指明信息应该被放在哪一块地址中(**address**、**burst**)，指明信息的长度(**Length**)、格式(**Size**)，以及发送者的有关信息(**id**、**user**、**regin**)。

（需要完成burst的功能撰写）

事务分为两种类型：请求型事务以及数据型事务，在AXI FULL中，请求型事务携带自身以及之后的数据型事务的信息，例如事务长度、格式等等，方便接收方进行初始化以接收后面的数据型事务。而传输型事务负责有效数据的传输。每一个Communication都是由请求事务先将信息告诉Slave，然后再传递数据型事务。

# 传输过程
前文提到，数据传输只有两个目的：读取数据和写入数据。因此，传输过程也可以分为读取传输(read)和写入传输(write)。
## 读取传输
前文所述，任何传输都是先传请求型事务，再传数据型事务。

当Master检测到Slave的arready信号拉高后，表示Slave已经准备好接收请求型事务了，此时Master首先传递请求型事务，该事务通常都是a开头，例如arvalid，arsize等。当arvalid拉高时，Slave知道接下来要传输数据了，它会查看该事务的其他属性，并以此来进行一些初始化的工作。

（需要完成response的功能撰写）

在请求型事务完成后，当Slave检测到Master的rready信号拉高后，表示Master已经准备好接收数据了，此时Salve开始向Master返回数据，在传输数据型事务时，rvalid信号始终为高位，表示数据有效，当传输到最后一个数据型事务时，Slave将rlast拉高，表示该事务是最后一个事务。至此，所有读取传输完成。
（需要完成response的功能撰写）

## 写入事务
当Master检测到Slave端的awready为高位时，代表着Slave已经准备好接收请求了。若此时Master想请求写入数据，则将请求事务的awvalid拉高，同时将需要写入的数据的信息例如awaddr、awlength等也放入请求事务中。Slave在接收到请求数据后分析其中的信息并开始初始化准备，同时将wready拉高，准备接收来自Master的数据型事务。

检测到wready拉高后，Master开始发送数据型事务，每个数据型事务的wvalid为1，代表该数据为有效数据。在发送到最后一个数据后，数据型事务的wlast位为1，表示是最后一个数据型事务。至此，所有读取传输完成。
